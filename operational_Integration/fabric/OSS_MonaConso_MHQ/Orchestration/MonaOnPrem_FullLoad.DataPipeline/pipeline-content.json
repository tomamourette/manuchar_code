{
  "properties": {
    "activities": [
      {
        "type": "InvokePipeline",
        "typeProperties": {
          "parameters": {
            "DataLoadQuery": null,
            "DeleteQuery": null,
            "Data_Product": {
              "value": "@pipeline().parameters.Data_Product",
              "type": "Expression"
            },
            "Orchestration_Run_ID": {
              "value": "@pipeline().parameters.Orchestration_Run_Id",
              "type": "Expression"
            }
          },
          "waitOnCompletion": true,
          "workspaceId": "00000000-0000-0000-0000-000000000000",
          "pipelineId": "273d203a-d3ca-a4bb-48ae-6f1e3a1dc3f9",
          "operationType": "InvokeFabricPipeline"
        },
        "externalReferences": {
          "connection": "cb52e88a-02d1-4e13-a048-679c44734240"
        },
        "policy": {
          "timeout": "0.12:00:00",
          "retry": 0,
          "retryIntervalInSeconds": 30,
          "secureInput": false,
          "secureOutput": false
        },
        "name": "Invoke Mona On Prem Main Pipeline",
        "description": "Full Load will have empty Data Load Query and Delete Query",
        "dependsOn": []
      }
    ],
    "parameters": {
      "Data_Product": {
        "type": "string",
        "defaultValue": "Group-FinancialStatements"
      },
      "Orchestration_Run_Id": {
        "type": "string"
      }
    },
    "variables": {
      "DataLoadQuery": {
        "type": "String",
        "defaultValue": "((vconso.ConsoYear = year(getdate()) and vconso.consomonth = month(getdate())) OR (vconso.ConsoYear = year(dateadd(month,-1,getdate())) and vconso.consomonth = month(dateadd(month,-1,getdate()))))"
      },
      "DeleteQuery": {
        "type": "String",
        "defaultValue": "AND ((ods.ODSConsoYear = YEAR(GETDATE()) AND ods.ODSConsoMonth = MONTH(GETDATE())) OR (ods.ODSConsoYear = YEAR(GETDATE())    AND ods.ODSConsoMonth = MONTH(GETDATE()) - 1 AND MONTH(GETDATE()) > 1) OR (ods.ODSConsoYear = YEAR(DATEADD(MONTH, -1, GETDATE())) AND ods.ODSConsoMonth = MONTH(DATEADD(MONTH, -1, GETDATE()))))"
      }
    },
    "concurrency": 1
  }
}